import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# Your data formatted as a list of dictionaries
data_raw = [
    {'Client': 'ABW', 'Class 0': 64, 'Class 1': 13, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'AFE', 'Class 0': 76, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'AFG', 'Class 0': 56, 'Class 1': 16, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'AFW', 'Class 0': 67, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 67},
    {'Client': 'AGO', 'Class 0': 53, 'Class 1': 19, 'Class 2': 1, 'Class 3': 1, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'ALB', 'Class 0': 70, 'Class 1': 3, 'Class 2': 0, 'Class 3': 1, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'AND', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'ARB', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'ARE', 'Class 0': 78, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 78},
    {'Client': 'ARG', 'Class 0': 50, 'Class 1': 23, 'Class 2': 1, 'Class 3': 1, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'ARM', 'Class 0': 70, 'Class 1': 3, 'Class 2': 7, 'Class 3': 1, 'Class 4': 0, 'Total Samples': 81},
    {'Client': 'ASM', 'Class 0': 72, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'ATG', 'Class 0': 2, 'Class 1': 70, 'Class 2': 0, 'Class 3': 1, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'AUS', 'Class 0': 77, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'AUT', 'Class 0': 38, 'Class 1': 36, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'AZE', 'Class 0': 72, 'Class 1': 1, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'BDI', 'Class 0': 46, 'Class 1': 27, 'Class 2': 2, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'BEL', 'Class 0': 0, 'Class 1': 72, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'BEN', 'Class 0': 70, 'Class 1': 3, 'Class 2': 5, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 78},
    {'Client': 'BFA', 'Class 0': 75, 'Class 1': 4, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 79},
    {'Client': 'BGD', 'Class 0': 77, 'Class 1': 1, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 79},
    {'Client': 'BGR', 'Class 0': 76, 'Class 1': 1, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 78},
    {'Client': 'BHR', 'Class 0': 52, 'Class 1': 23, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'BHS', 'Class 0': 57, 'Class 1': 8, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 65},
    {'Client': 'BIH', 'Class 0': 63, 'Class 1': 0, 'Class 2': 2, 'Class 3': 1, 'Class 4': 0, 'Total Samples': 66},
    {'Client': 'BLR', 'Class 0': 71, 'Class 1': 0, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'BLZ', 'Class 0': 7, 'Class 1': 64, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'BMU', 'Class 0': 70, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'BOL', 'Class 0': 58, 'Class 1': 18, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'BRA', 'Class 0': 43, 'Class 1': 22, 'Class 2': 1, 'Class 3': 1, 'Class 4': 0, 'Total Samples': 67},
    {'Client': 'BRB', 'Class 0': 20, 'Class 1': 54, 'Class 2': 0, 'Class 3': 3, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'BRN', 'Class 0': 71, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'BTN', 'Class 0': 31, 'Class 1': 46, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'BWA', 'Class 0': 72, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'CAF', 'Class 0': 48, 'Class 1': 23, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'CAN', 'Class 0': 18, 'Class 1': 55, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'CEB', 'Class 0': 70, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'CHE', 'Class 0': 63, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 63},
    {'Client': 'CHI', 'Class 0': 70, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'CHL', 'Class 0': 73, 'Class 1': 0, 'Class 2': 0, 'Class 3': 3, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'CHN', 'Class 0': 65, 'Class 1': 3, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 68},
    {'Client': 'CIV', 'Class 0': 69, 'Class 1': 4, 'Class 2': 2, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'CMR', 'Class 0': 73, 'Class 1': 1, 'Class 2': 3, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'COD', 'Class 0': 40, 'Class 1': 33, 'Class 2': 0, 'Class 3': 1, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'COG', 'Class 0': 24, 'Class 1': 45, 'Class 2': 1, 'Class 3': 1, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'COL', 'Class 0': 64, 'Class 1': 0, 'Class 2': 1, 'Class 3': 5, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'COM', 'Class 0': 71, 'Class 1': 0, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'CPV', 'Class 0': 13, 'Class 1': 55, 'Class 2': 1, 'Class 3': 1, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'CRI', 'Class 0': 72, 'Class 1': 0, 'Class 2': 2, 'Class 3': 1, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'CSS', 'Class 0': 73, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'CUB', 'Class 0': 73, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'CUW', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'CYM', 'Class 0': 77, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'CYP', 'Class 0': 44, 'Class 1': 31, 'Class 2': 0, 'Class 3': 0, 'Class 4': 1, 'Total Samples': 76},
    {'Client': 'CZE', 'Class 0': 73, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'DEU', 'Class 0': 59, 'Class 1': 15, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'DJI', 'Class 0': 72, 'Class 1': 1, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'DMA', 'Class 0': 39, 'Class 1': 36, 'Class 2': 2, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'DNK', 'Class 0': 79, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 79},
    {'Client': 'DOM', 'Class 0': 66, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 66},
    {'Client': 'DZA', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'EAP', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'EAR', 'Class 0': 73, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'EAS', 'Class 0': 71, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'ECA', 'Class 0': 80, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 80},
    {'Client': 'ECS', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'ECU', 'Class 0': 72, 'Class 1': 4, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'EGY', 'Class 0': 24, 'Class 1': 45, 'Class 2': 3, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'EMU', 'Class 0': 27, 'Class 1': 49, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'ERI', 'Class 0': 0, 'Class 1': 69, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'ESP', 'Class 0': 41, 'Class 1': 31, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'EST', 'Class 0': 77, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'ETH', 'Class 0': 50, 'Class 1': 25, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'EUU', 'Class 0': 80, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 80},
    {'Client': 'FCS', 'Class 0': 68, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 68},
    {'Client': 'FIN', 'Class 0': 76, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'FJI', 'Class 0': 71, 'Class 1': 6, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'FRA', 'Class 0': 29, 'Class 1': 52, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 81},
    {'Client': 'FRO', 'Class 0': 77, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'FSM', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'GAB', 'Class 0': 60, 'Class 1': 14, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'GBR', 'Class 0': 34, 'Class 1': 38, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'GEO', 'Class 0': 64, 'Class 1': 6, 'Class 2': 2, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'GHA', 'Class 0': 49, 'Class 1': 16, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 65},
    {'Client': 'GIB', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'GIN', 'Class 0': 47, 'Class 1': 27, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'GMB', 'Class 0': 37, 'Class 1': 41, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 78},
    {'Client': 'GNB', 'Class 0': 32, 'Class 1': 40, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'GNQ', 'Class 0': 74, 'Class 1': 1, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'GRC', 'Class 0': 0, 'Class 1': 67, 'Class 2': 3, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'GRD', 'Class 0': 24, 'Class 1': 42, 'Class 2': 3, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'GRL', 'Class 0': 67, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 67},
    {'Client': 'GTM', 'Class 0': 74, 'Class 1': 5, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 79},
    {'Client': 'GUM', 'Class 0': 73, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'GUY', 'Class 0': 51, 'Class 1': 17, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'HIC', 'Class 0': 76, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'HKG', 'Class 0': 72, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'HND', 'Class 0': 53, 'Class 1': 19, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'HPC', 'Class 0': 76, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'HRV', 'Class 0': 48, 'Class 1': 26, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'HTI', 'Class 0': 69, 'Class 1': 3, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'HUN', 'Class 0': 54, 'Class 1': 20, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'IBD', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'IBT', 'Class 0': 65, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 65},
    {'Client': 'IDA', 'Class 0': 71, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'IDB', 'Class 0': 76, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'IDN', 'Class 0': 71, 'Class 1': 3, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'IDX', 'Class 0': 68, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 68},
    {'Client': 'IMN', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'IND', 'Class 0': 46, 'Class 1': 29, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'INX', 'Class 0': 73, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'IRL', 'Class 0': 57, 'Class 1': 16, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'IRN', 'Class 0': 70, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'IRQ', 'Class 0': 50, 'Class 1': 20, 'Class 2': 2, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'ISL', 'Class 0': 26, 'Class 1': 52, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 79},
    {'Client': 'ISR', 'Class 0': 49, 'Class 1': 24, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'ITA', 'Class 0': 0, 'Class 1': 80, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 80},
    {'Client': 'JAM', 'Class 0': 0, 'Class 1': 68, 'Class 2': 4, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'JOR', 'Class 0': 37, 'Class 1': 36, 'Class 2': 3, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'JPN', 'Class 0': 0, 'Class 1': 69, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'KAZ', 'Class 0': 73, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'KEN', 'Class 0': 61, 'Class 1': 15, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'KGZ', 'Class 0': 52, 'Class 1': 18, 'Class 2': 2, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'KHM', 'Class 0': 69, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'KIR', 'Class 0': 80, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 80},
    {'Client': 'KNA', 'Class 0': 71, 'Class 1': 7, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 78},
    {'Client': 'KOR', 'Class 0': 80, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 80},
    {'Client': 'KWT', 'Class 0': 72, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'LAC', 'Class 0': 66, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 66},
    {'Client': 'LAO', 'Class 0': 52, 'Class 1': 25, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'LBN', 'Class 0': 5, 'Class 1': 65, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'LBR', 'Class 0': 46, 'Class 1': 31, 'Class 2': 8, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 85},
    {'Client': 'LBY', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'LCA', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'LCN', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'LDC', 'Class 0': 63, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 63},
    {'Client': 'LIC', 'Class 0': 72, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'LIE', 'Class 0': 71, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'LKA', 'Class 0': 27, 'Class 1': 45, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'LMC', 'Class 0': 76, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'LMY', 'Class 0': 78, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 78},
    {'Client': 'LSO', 'Class 0': 68, 'Class 1': 12, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 80},
    {'Client': 'LTE', 'Class 0': 73, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'LTU', 'Class 0': 72, 'Class 1': 2, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'LUX', 'Class 0': 77, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'LVA', 'Class 0': 83, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 83},
    {'Client': 'MAC', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'MAF', 'Class 0': 69, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'MAR', 'Class 0': 64, 'Class 1': 6, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'MCO', 'Class 0': 75, 'Class 1': 1, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'MDA', 'Class 0': 74, 'Class 1': 8, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 82},
    {'Client': 'MDG', 'Class 0': 56, 'Class 1': 18, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'MDV', 'Class 0': 63, 'Class 1': 14, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'MEA', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'MEX', 'Class 0': 71, 'Class 1': 6, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'MHL', 'Class 0': 79, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 79},
    {'Client': 'MIC', 'Class 0': 71, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'MKD', 'Class 0': 79, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 79},
    {'Client': 'MLI', 'Class 0': 74, 'Class 1': 7, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 81},
    {'Client': 'MLT', 'Class 0': 70, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'MMR', 'Class 0': 57, 'Class 1': 23, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 80},
    {'Client': 'MNA', 'Class 0': 77, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'MNE', 'Class 0': 60, 'Class 1': 16, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'MNG', 'Class 0': 53, 'Class 1': 21, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'MNP', 'Class 0': 82, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 82},
    {'Client': 'MOZ', 'Class 0': 36, 'Class 1': 32, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 68},
    {'Client': 'MRT', 'Class 0': 54, 'Class 1': 17, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'MUS', 'Class 0': 56, 'Class 1': 13, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'MWI', 'Class 0': 69, 'Class 1': 8, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'MYS', 'Class 0': 77, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'NAC', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'NAM', 'Class 0': 72, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'NCL', 'Class 0': 77, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'NER', 'Class 0': 79, 'Class 1': 2, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 81},
    {'Client': 'NGA', 'Class 0': 73, 'Class 1': 1, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'NIC', 'Class 0': 58, 'Class 1': 15, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'NLD', 'Class 0': 66, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 66},
    {'Client': 'NOR', 'Class 0': 76, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'NPL', 'Class 0': 76, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'NRU', 'Class 0': 47, 'Class 1': 30, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'NZL', 'Class 0': 84, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 84},
    {'Client': 'OED', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'OMN', 'Class 0': 68, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 68},
    {'Client': 'OSS', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'PAK', 'Class 0': 72, 'Class 1': 9, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 81},
    {'Client': 'PAN', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'PER', 'Class 0': 72, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'PHL', 'Class 0': 77, 'Class 1': 2, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 79},
    {'Client': 'PLW', 'Class 0': 70, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'PNG', 'Class 0': 72, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'POL', 'Class 0': 68, 'Class 1': 6, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'PRE', 'Class 0': 72, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'PRI', 'Class 0': 77, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'PRK', 'Class 0': 78, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 78},
    {'Client': 'PRT', 'Class 0': 29, 'Class 1': 44, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'PRY', 'Class 0': 72, 'Class 1': 2, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'PSE', 'Class 0': 69, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'PSS', 'Class 0': 81, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 81},
    {'Client': 'PST', 'Class 0': 69, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'PYF', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'QAT', 'Class 0': 70, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'ROU', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'RUS', 'Class 0': 68, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 68},
    {'Client': 'RWA', 'Class 0': 63, 'Class 1': 21, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 84},
    {'Client': 'SAS', 'Class 0': 72, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'SAU', 'Class 0': 62, 'Class 1': 13, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'SDN', 'Class 0': 18, 'Class 1': 46, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 64},
    {'Client': 'SEN', 'Class 0': 91, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 91},
    {'Client': 'SGP', 'Class 0': 0, 'Class 1': 73, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'SLB', 'Class 0': 72, 'Class 1': 1, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'SLE', 'Class 0': 60, 'Class 1': 20, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 80},
    {'Client': 'SLV', 'Class 0': 60, 'Class 1': 12, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'SMR', 'Class 0': 65, 'Class 1': 11, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'SOM', 'Class 0': 81, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 81},
    {'Client': 'SRB', 'Class 0': 65, 'Class 1': 7, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'SSA', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'SSD', 'Class 0': 73, 'Class 1': 3, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'SSF', 'Class 0': 77, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'SST', 'Class 0': 71, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'STP', 'Class 0': 31, 'Class 1': 52, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 83},
    {'Client': 'SUR', 'Class 0': 60, 'Class 1': 13, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'SVK', 'Class 0': 71, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'SVN', 'Class 0': 64, 'Class 1': 13, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'SWE', 'Class 0': 76, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'SWZ', 'Class 0': 70, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'SXM', 'Class 0': 65, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 65},
    {'Client': 'SYC', 'Class 0': 28, 'Class 1': 42, 'Class 2': 2, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'SYR', 'Class 0': 59, 'Class 1': 15, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'TCA', 'Class 0': 68, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 68},
    {'Client': 'TCD', 'Class 0': 71, 'Class 1': 3, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'TEA', 'Class 0': 79, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 79},
    {'Client': 'TEC', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'TGO', 'Class 0': 73, 'Class 1': 1, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'THA', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'TJK', 'Class 0': 59, 'Class 1': 8, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 67},
    {'Client': 'TKM', 'Class 0': 77, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'TLA', 'Class 0': 68, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 68},
    {'Client': 'TLS', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'TMN', 'Class 0': 76, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'TON', 'Class 0': 69, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'TSA', 'Class 0': 82, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 82},
    {'Client': 'TSS', 'Class 0': 66, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 66},
    {'Client': 'TTO', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'TUN', 'Class 0': 66, 'Class 1': 11, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 77},
    {'Client': 'TUR', 'Class 0': 69, 'Class 1': 2, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'TUV', 'Class 0': 72, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 72},
    {'Client': 'TZA', 'Class 0': 72, 'Class 1': 2, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'UGA', 'Class 0': 73, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'UKR', 'Class 0': 60, 'Class 1': 8, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'UMC', 'Class 0': 71, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'URY', 'Class 0': 73, 'Class 1': 1, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'USA', 'Class 0': 27, 'Class 1': 42, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'UZB', 'Class 0': 75, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 75},
    {'Client': 'VCT', 'Class 0': 79, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 79},
    {'Client': 'VEN', 'Class 0': 59, 'Class 1': 14, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'VGB', 'Class 0': 74, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 74},
    {'Client': 'VIR', 'Class 0': 71, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'VNM', 'Class 0': 71, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 71},
    {'Client': 'VUT', 'Class 0': 79, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 79},
    {'Client': 'WLD', 'Class 0': 68, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 68},
    {'Client': 'WSM', 'Class 0': 69, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 69},
    {'Client': 'XKX', 'Class 0': 68, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 68},
    {'Client': 'YEM', 'Class 0': 68, 'Class 1': 8, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76},
    {'Client': 'ZAF', 'Class 0': 70, 'Class 1': 0, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 70},
    {'Client': 'ZMB', 'Class 0': 46, 'Class 1': 26, 'Class 2': 1, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 73},
    {'Client': 'ZWE', 'Class 0': 70, 'Class 1': 6, 'Class 2': 0, 'Class 3': 0, 'Class 4': 0, 'Total Samples': 76}
]

df_raw = pd.DataFrame(data_raw)

# Filter out clients with only Class 0
df_filtered = df_raw[df_raw[['Class 1', 'Class 2', 'Class 3', 'Class 4']].sum(axis=1) > 0]

# Transform filtered data to long format
df_long = df_filtered.melt(id_vars=['Client'], 
                           value_vars=[col for col in df_filtered.columns if 'Class' in col],
                           var_name='Class', 
                           value_name='Count')

# Calculate percentage
df_long['Percentage'] = df_long.groupby('Client')['Count'].apply(lambda x: x / x.sum() * 100).reset_index(level=0, drop=True)

# Filter out values with count = 0 for a cleaner chart
df_long = df_long[df_long['Count'] > 0]

# Sort DataFrame for better chart display (e.g., by clients with highest Class 1)
df_sorted = df_long.pivot(index='Client', columns='Class', values='Count').fillna(0)
df_sorted['Class_1_Count'] = df_sorted['Class 1']
df_sorted = df_sorted.sort_values('Class_1_Count', ascending=False)
df_sorted.drop('Class_1_Count', axis=1, inplace=True)
df_sorted = df_sorted.reset_index()[:50]

df_long_sorted = pd.melt(df_sorted, id_vars=['Client'], var_name='Class', value_name='Count')
df_long_sorted = df_long_sorted[df_long_sorted['Count'] > 0]
df_long_sorted['Percentage'] = df_long_sorted.groupby('Client')['Count'].apply(lambda x: x / x.sum() * 100).reset_index(level=0, drop=True)

# Định nghĩa tên mới cho các class trong legend
class_labels = {
    'Class 0': 'No Crisis (Class 0)',
    'Class 1': 'Sovereign Debt Distress (Class 1)',
    'Class 2': 'External Sector Vulnerability (Class 1)',
    'Class 3': 'Macroeconomic Deterioration (Class 1)',
    'Class 4': 'Banking Sector Stress (Class 1)'
}

# Ánh xạ tên mới vào DataFrame
df_long_sorted['Class'] = df_long_sorted['Class'].map(class_labels)

# Customize colors for better distinction - giữ nguyên màu nhưng sử dụng cho tên mới
palette = {
    'No Crisis (Class 0)': 'skyblue',
    'Sovereign Debt Distress (Class 1)': 'lightcoral',
    'External Sector Vulnerability (Class 1)': 'orange',
    'Macroeconomic Deterioration (Class 1)': 'darkred',
    'Banking Sector Stress (Class 1)': 'red'
}

# Create the chart
plt.figure(figsize=(20, 10))
ax = sns.barplot(x='Client', y='Percentage', hue='Class', data=df_long_sorted, palette=palette, dodge=False)

# Italicize client IDs
plt.xticks(rotation=90, fontsize=15, fontweight='bold')

plt.title('Distribution of Crisis Domains by Client', fontsize=25, fontweight='bold')
plt.xlabel('Client', fontsize=20, fontweight='bold')
plt.ylabel('Percentage (%)', fontsize=20, fontweight='bold')
plt.yticks(fontsize=20, fontweight='bold')

# Move legend inside the chart với tên mới
plt.legend(title='Crisis Type', loc='upper left', bbox_to_anchor=(0.4, 0.98), fontsize=15)
plt.tight_layout()
plt.savefig("crisis_distribution_plot_50.pdf", format='pdf', bbox_inches='tight')
plt.show()